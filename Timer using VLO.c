#include <msp430g2553.h>
//----------------------------------------------------------------------------------------------------------------------------------------------------
#define GREENLED BIT6
//----------------------------------------------------------------------------------------------------------------------------------------------------
void configWDT(void);
void configClock(void);
void configTimer(void);
void configPins(void);
void toggleLeds(void);
//----------------------------------------------------------------------------------------------------------------------------------------------------
void main(void){
    configWDT();
    configClock();
    configPins();
    configTimer();
    LPM0;                                                           //Low Power Mode 0 selected
}
//----------------------------------------------------------------------------------------------------------------------------------------------------
void configWDT(void) {WDTCTL = WDTHOLD + WDTPW; }
//----------------------------------------------------------------------------------------------------------------------------------------------------
void configClock(void) {
    BCSCTL3 |= LFXT1S_2;
}
//----------------------------------------------------------------------------------------------------------------------------------------------------
void configPins(void){
    P1DIR |= GREENLED;                                              // Green LED out direction
    P1SEL |= GREENLED;                                              // PWM Mode selected
}
//----------------------------------------------------------------------------------------------------------------------------------------------------
void configTimer(void){
    TA0CTL =TASSEL_1 + MC_1 + ID_0;                                 // ACLK, Up mode , SMCLKfreq/8=15.625kHz , Timer A interrupt enabled
    TA0CCR0 = 24000;
    TA0CCR1 = 12000;                                                // %50 duty cycle setted
    TA0CCTL1 |= OUTMOD_7;                                           // Outpud Mod graph can be reached at datasheet
}
